(this.webpackJsonpimagesearch=this.webpackJsonpimagesearch||[]).push([[0],{24:function(e,t,a){e.exports=a(56)},55:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(4),s=a.n(r),o=a(5),i=a(21),l=a(2),u=a(3),m=a(9),f=a.n(m),d=a(22),p=a(23),E=a.n(p).a.create({baseURL:"https://www.flickr.com/services/rest/"}),g=function(e,t){var a;return function(){for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];clearTimeout(a),a=setTimeout((function(){return e.apply(void 0,c)}),t)}},v=function(e){for(var t=e.imagesPerPage,a=e.totalPosts,r=e.paginate,s=Object(n.useState)(1),o=Object(u.a)(s,2),i=o[0],l=o[1],m=[],f=1;f<=Math.round(a/t);f++)m.push(f);var d=function(e){return["page-item",i===e?"selected":""].join(" ")};return c.a.createElement("nav",null,c.a.createElement("ul",{className:"pagination-container"},m.map((function(e){return c.a.createElement("li",{key:e,className:d(e),onClick:function(){return function(e){r(e),l(e)}(e)}},c.a.createElement("div",null,e))}))))},h=function(e){var t=e.images,a=e.onImageSelect;return t.map((function(e){var t=e.farm,n=e.server,r=e.secret,s=e.id,o=e.title;return c.a.createElement("div",{onClick:function(){return a(e)},key:s},c.a.createElement("img",{src:"https://farm".concat(t,".staticflickr.com/").concat(n,"/").concat(s,"_").concat(r,".jpg"),alt:"searched",title:o,className:"images"}))}))},b=function(e){var t=e.onDismiss,a=e.children;return Object(n.useEffect)((function(){window.addEventListener("keydown",(function(e){27===e.keyCode&&t()}))}),[t]),s.a.createPortal(c.a.createElement("div",{className:"portal",onClick:t},c.a.createElement("div",{className:"close-modal"},"Press Esc To close"),a),document.querySelector("#portal"))},j=Object(o.b)((function(e){return{images:e.images.data.photo,selectedImage:e.images.selected}}),{searchImages:function(e){return function(){var t=Object(d.a)(f.a.mark((function t(a){var n,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="?method=flickr.photos.search&text=".concat(e,"&api_key=").concat("26797c5aee7a0523e67a8d93ef025457","&format=json&nojsoncallback=1"),t.prev=1,t.next=4,E.get(n);case 4:c=t.sent,a({type:"FETCH_IMAGES",payload:c.data.photos}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},selectImage:function(e){return{type:"IMAGE_SELECTED",payload:e}}})((function(e){var t=e.images,a=e.searchImages,r=e.selectImage,s=e.selectedImage;Object(n.useEffect)((function(){a("landscapes")}),[a]);var o=Object(n.useCallback)(g((function(e){return a(e)}),300),[]),i=Object(n.useState)(""),l=Object(u.a)(i,2),m=l[0],f=l[1],d=Object(n.useState)(1),p=Object(u.a)(d,2),E=p[0],j=p[1],O=Object(n.useState)(20),k=Object(u.a)(O,1)[0],y=Object(n.useState)(!1),w=Object(u.a)(y,2),S=w[0],I=w[1],_=E*k,C=_-k,N=t&&t.slice(C,_),P=function(){I(!1)};return c.a.createElement("div",{className:"wrapper"},S&&function(){var e=s.farm,t=s.server,a=s.id,n=s.secret;return c.a.createElement(b,{onDismiss:P},c.a.createElement("img",{alt:"selected",src:"https://farm".concat(e,".staticflickr.com/").concat(t,"/").concat(a,"_").concat(n,".jpg")}))}(),c.a.createElement(v,{imagesPerPage:k,totalPosts:t&&t.length,paginate:function(e){return j(e)}}),c.a.createElement("div",{className:"input-container"},c.a.createElement("input",{value:m,onChange:function(e){f(e.target.value),o(e.target.value)},className:"input",placeholder:"search"})),c.a.createElement("div",{className:"item"},t&&c.a.createElement(h,{images:N,onImageSelect:function(e){r(e),I(!0)}})))})),O=a(6),k={selected:"",data:{photo:[]}},y=Object(l.c)({images:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_IMAGES":return Object(O.a)({},e,{data:Object(O.a)({},t.payload)});case"IMAGE_SELECTED":return Object(O.a)({},e,{selected:t.payload});default:return e}}}),w=(a(55),window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d),S=Object(l.e)(y,w(Object(l.a)(i.a)));s.a.render(c.a.createElement(o.a,{store:S},c.a.createElement(j,null)),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.7ce353a6.chunk.js.map