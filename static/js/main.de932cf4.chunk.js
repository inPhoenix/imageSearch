(this.webpackJsonpimagesearch=this.webpackJsonpimagesearch||[]).push([[0],{24:function(e,t,a){e.exports=a(56)},55:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(4),o=a.n(c),s=a(6),i=a(21),l=a(2),u=a(3),m=a(9),d=a.n(m),f=a(22),g=a(23),p=a.n(g).a.create({baseURL:"https://www.flickr.com/services/rest/"}),E=function(e){return{type:"IS_LOADING",status:e}},h=function(e,t){var a;return function(){for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];clearTimeout(a),a=setTimeout((function(){return e.apply(void 0,r)}),t)}},v=function(e){for(var t=e.imagesPerPage,a=e.totalPosts,c=e.paginate,o=Object(n.useState)(1),s=Object(u.a)(o,2),i=s[0],l=s[1],m=[],d=1;d<=Math.round(a/t);d++)m.push(d);var f=function(e){return["page-item",i===e?"selected":""].join(" ")};return r.a.createElement("nav",null,r.a.createElement("ul",{className:"pagination-container"},m.map((function(e){return r.a.createElement("li",{key:e,className:f(e),onClick:function(){return function(e){c(e),l(e)}(e)}},r.a.createElement("div",null,e))}))))},b=function(e){var t=e.images,a=e.onImageSelect;return t.map((function(e){var t=e.farm,n=e.server,c=e.secret,o=e.id,s=e.title;return r.a.createElement("div",{onClick:function(){return a(e)},key:o},r.a.createElement("img",{src:"https://farm".concat(t,".staticflickr.com/").concat(n,"/").concat(o,"_").concat(c,".jpg"),alt:"searched",title:s,className:"images"}))}))},O=function(e){var t=e.onDismiss,a=e.children;return Object(n.useEffect)((function(){window.addEventListener("keydown",(function(e){27===e.keyCode&&t()}))}),[t]),o.a.createPortal(r.a.createElement("div",{className:"portal",onClick:t},a),document.querySelector("#portal"))},j=function(){return r.a.createElement("header",{className:"header"},r.a.createElement("a",{className:"link",href:"https://www.github.com/inPhoenix/imageSearch",rel:"noopener noreferrer",target:"_blank"},"GitHub"))},k=Object(s.b)((function(e){return{images:e.images.data.photo,selectedImage:e.images.selected,isLoading:e.images.isLoading,error:e.images.error}}),{searchImages:function(e){return function(){var t=Object(f.a)(d.a.mark((function t(a){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="?method=flickr.photos.search&text=".concat(e,"&api_key=").concat("26797c5aee7a0523e67a8d93ef025457","&format=json&nojsoncallback=1"),t.prev=1,a(E(!0)),t.next=5,p.get(n);case 5:"ok"===(r=t.sent).data.stat&&a({type:"FETCH_IMAGES",payload:r.data.photos}),"fail"===r.data.stat&&a({type:"ADD_ERROR",error:r.data.message}),a(E(!1)),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(1),console.error(t.t0),a(E(!1)),a({type:"ADD_ERROR",error:t.t0.message||"Something went wrong"});case 16:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()},selectImage:function(e){return{type:"IMAGE_SELECTED",payload:e}}})((function(e){var t=e.images,a=e.searchImages,c=e.selectImage,o=e.selectedImage,s=e.isLoading,i=e.error;Object(n.useEffect)((function(){a("landscapes")}),[a]);var l=Object(n.useCallback)(h((function(e){return a(e)}),300),[]),m=Object(n.useState)(""),d=Object(u.a)(m,2),f=d[0],g=d[1],p=Object(n.useState)(1),E=Object(u.a)(p,2),k=E[0],w=E[1],y=Object(n.useState)(20),_=Object(u.a)(y,1)[0],S=Object(n.useState)(!1),I=Object(u.a)(S,2),D=I[0],N=I[1],L=k*_,C=L-_,R=t&&t.slice(C,L),A=function(){N(!1)};return r.a.createElement("div",{className:"wrapper"},r.a.createElement(j,null),D&&function(){var e=o.farm,t=o.server,a=o.id,n=o.secret;return r.a.createElement(O,{onDismiss:A},r.a.createElement("img",{alt:"selected",src:"https://farm".concat(e,".staticflickr.com/").concat(t,"/").concat(a,"_").concat(n,".jpg")}))}(),r.a.createElement(v,{imagesPerPage:_,totalPosts:t&&t.length,paginate:function(e){return w(e)}}),r.a.createElement("div",{className:"input-container"},r.a.createElement("input",{value:f,onChange:function(e){g(e.target.value),l(e.target.value)},className:"input",placeholder:"search"})),r.a.createElement("div",{className:"item"},s&&r.a.createElement(r.a.Fragment,null," Loading... "),i&&r.a.createElement(r.a.Fragment,null," ",i," "),t&&r.a.createElement(b,{images:R,onImageSelect:function(e){c(e),N(!0)}})))})),w=a(5),y={selected:"",isLoading:!1,error:"",data:{photo:[]}},_=Object(l.c)({images:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_IMAGES":return Object(w.a)({},e,{data:Object(w.a)({},t.payload),error:""});case"IMAGE_SELECTED":return Object(w.a)({},e,{selected:t.payload});case"IS_LOADING":return Object(w.a)({},e,{isLoading:t.status});case"ADD_ERROR":return Object(w.a)({},e,{error:t.error});default:return e}}}),S=(a(55),window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d),I=Object(l.e)(_,S(Object(l.a)(i.a)));o.a.render(r.a.createElement(s.a,{store:I},r.a.createElement(k,null)),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.de932cf4.chunk.js.map